# CH3. λλ‹¤ ν‘ν„μ‹

[2μ¥](https://github.com/ayoung0073/ReadingStudy/blob/main/modern-java-in-action/ch02.md) μ—μ„ λ™μ‘ νλΌλ―Έν„°λ¥Ό μ΄μ©ν•΄ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— ν¨κ³Όμ μΌλ΅ λ€μ‘ν•λ” μ½”λ“λ¥Ό κµ¬ν„ν•  μ μμμ„ ν™•μΈν–λ‹¤.

## λλ‹¤λ€
**λλ‹¤ ν‘ν„μ‹**μ€ λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ” μµλ… _ν•¨μ_ λ¥Ό λ‹¨μν™” ν• κ²ƒμ΄λ‹¤. λλ‹¤ ν‘ν„μ‹μ—λ” μ΄λ¦„μ€ μ—†μ§€λ§, νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹, λ°μƒν•  μ μλ” μμ™Έ λ¦¬μ¤νΈλ¥Ό κ°€μ§ μ μλ‹¤. 
- **μµλ…** : λ³΄ν†µμ λ©”μ„λ“μ™€ λ‹¬λ¦¬ μ΄λ¦„μ΄ μ—†λ‹¤.
- **ν•¨μ** : λ©”μ„λ“μ²λΌ νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•μΌλ―€λ΅ ν•¨μλΌκ³  λ¶€λ¥Έλ‹¤.
- **μ „λ‹¬** : λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μΈμλ΅ μ „λ‹¬ν•κ±°λ‚ λ³€μλ΅ μ €μ¥ν•  μ μλ‹¤.
- **κ°„κ²°μ„±** <br>
```java
// κΈ°μ΅΄ μ½”λ“ 
Comparator<Apple> byWeight = new Comparator<Apple>(){
    public int compare(Apple a1, Apple a2){
        return a.getWeight().compareTo(a2.getWight());
    }
}

// λλ‹¤ 
Comparator<Apple> byWeight = 
    (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```
λλ‹¤μ‹μ„ μ΄μ©ν•λ©΄ `compare` λ©”μ„λ“μ λ°”λ””λ¥Ό μ§μ ‘ μ „λ‹¬ν•λ” κ²ƒμ²λΌ μ½”λ“λ¥Ό μ „λ‹¬ν•  μ μλ‹¤.
<br><br>
λλ‹¤λ” μ„Έ λ¶€λ¶„μΌλ΅ μ΄λ£¨μ–΄μ§„λ‹¤.
```java
/*   λλ‹¤ νλΌλ―Έν„°   | ν™”μ‚΄ν‘ |             λλ‹¤ λ°”λ””                */ 
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```
- νλΌλ―Έν„° λ¦¬μ¤νΈ : `Comparator`μ `compare` λ©”μ„λ“ νλΌλ―Έν„° (μ‚¬κ³Ό 2κ°)
- ν™”μ‚΄ν‘ : λλ‹¤μ νλΌλ―Έν„° λ¦¬μ¤νΈμ™€ λ°”λ””λ¥Ό κµ¬λ¶„
- λλ‹¤ λ°”λ”” : λ‘ μ‚¬κ³Όμ λ¬΄κ²λ¥Ό λΉ„κµ. λλ‹¤μ λ°ν™κ°’μ— ν•΄λ‹Ήν•λ” ν‘ν„μ‹ 

```java
(parameters) -> expression // ν‘ν„μ‹ μ¤νƒ€μΌ
(parameters) -> { statements; } // λΈ”λ΅ μ¤νƒ€μΌ 
```
### λλ‹¤ μμ  
```
λ¶λ¦¬μ–Έ ν‘ν„μ‹         (List<String> list) -> list.isEmpty()
κ°μ²΄ μƒμ„±            () -> new Apple(10)
κ°μ²΄μ—μ„ μ†λΉ„         (Apple a) -> {
                        System.out.println(a.getWeight());
                   }         
κ°μ²΄μ—μ„ μ„ νƒ/μ¶”μ¶     (String s) -> s.length()
λ‘ κ°’μ„ μ΅°ν•©         (int a, int b) -> a * b
λ‘ κ°μ²΄ λΉ„κµ         (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())
```

## μ–΄λ””μ—, μ–΄λ–»κ² λλ‹¤λ¥Ό μ‚¬μ©ν• κΉ

### ν•¨μν• μΈν„°νμ΄μ¤ 
**ν•¨μν• μΈν„°νμ΄μ¤**λΌλ” λ¬Έλ§¥μ—μ„ λλ‹¤ ν‘ν„μ‹ μ‚¬μ© κ°€λ¥ν•λ‹¤.<br>
2μ¥μ `Predicate<T>`μ²λΌ λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ κ°€μ§€κ³  μλ” μΈν„°νμ΄μ¤λ¥Ό ν•¨μν• μΈν„°νμ΄μ¤λΌκ³  ν•λ‹¤.<br>
ex) Comparator, Runnable, Predicate <br>

λλ‹¤λ” ν•¨μν• μΈν„°νμ΄μ¤κ°€ κ°€μ§€λ” ν•λ‚μ μ¶”μƒ λ©”μ„λ“μ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ―€λ΅ μ „μ²΄ ν‘ν„μ‹μ„ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰ κ°€λ¥ν•λ‹¤.<br>
> **`@FunctionalInterface`** <br>
> - ν•¨μν• μΈν„°νμ΄μ¤μ„μ„ κ°€λ¦¬ν‚¤λ” μ–΄λ…Έν…μ΄μ…
> - ν•¨μν• μΈν„°νμ΄μ¤κ°€ μ•„λ‹λ©΄ μ»΄νμΌλ¬κ°€ μ—λ¬λ¥Ό λ°μƒμ‹ν‚¨λ‹¤. (ex) μ¶”μƒ λ©”μ„λ“κ°€ 2κ°μΈ κ²½μ°, μ—λ¬ λ°μƒ)

### ν•¨μ λ””μ¤ν¬λ¦½ν„°
λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό μ„μ ν•λ” λ©”μ„λ“ 
```java
public void process(Runnable r) {
    r.run();    
}

process(() -> System.out.println("This is awesome!!"));
```
λ‹¤μκ³Ό κ°™μ€ λλ‹¤ ν‘ν„μ‹μ€ μΈμκ°€ μ—†κ³  `void`λ¥Ό λ°ν™ν•λ” μ‹κ·Έλ‹μ²λ΅ `Runnable` μΈν„°νμ΄μ¤μ μ μΌν• μ¶”μƒ λ©”μ„λ“μΈ `run` λ©”μ„λ“μ μ‹κ·Έλ‹μ²μ™€ λ™μΌν•λ‹¤.

## λλ‹¤ ν™μ© : μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄
μμ› μ²λ¦¬(μλ¥Ό λ“¤μ–΄ λ°μ΄ν„°λ² μ΄μ¤ νμΌ μ²λ¦¬)μ— μ‚¬μ©ν•λ” μν™ ν¨ν„΄μ€ μμ›μ„ μ—΄κ³ , μ²λ¦¬ν• ν›„, μμ›μ„ λ‹«λ” μμ„λ΅ μ΄λ£¨μ–΄μ§„λ‹¤.<br>
μ¦‰ μ‹¤μ  μμ›μ„ μ²λ¦¬ν•λ” μ½”λ“λ¥Ό μ„¤μ •κ³Ό μ •λ¦¬ λ‘ κ³Όμ •μ΄ λ‘λ¬μ‹Έλ” ν•νƒλ¥Ό κ°–λ”λ‹¤. <br>
λ‹¤μ μ½”λ“λ” νμΌμ—μ„ ν• ν–‰μ„ μ½λ” μ½”λ“μ΄λ‹¤.
```java
public String processFile() throws IOException {
    try (BufferedReader br = 
            new BufferedReader(new FileReader("data.txt"))) {
        return br.readLine(); // μ‹¤μ  ν•„μ”ν• μ‘μ—…μ„ ν•λ” ν–‰
    }
}
```

μ‹¤μ  ν•„μ”ν• μ‘μ—…μ΄ κ³„μ† λ°”λ€λ‹¤λ©΄, μ •λ¦¬ κ³Όμ •μ€ μ¬μ‚¬μ©ν•κ³  `processFile` λ©”μ„λ“λ§ λ‹¤λ¥Έ λ™μ‘μ„ μν–‰ν•λ„λ΅ λ…λ Ήν•λ” κ² μΆ‹λ‹¤.<br>
λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό μ μ©ν•΄λ³΄μ.

#### 1. λ™μ‘ νλΌλ―Έν„°ν™”
```java
String result = processFile((BufferedReader br) -> 
                            br.readLine() + br.readLine());
```

#### 2. ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ λ™μ‘ μ „λ‹¬ 
ν•¨μν• μΈν„°νμ΄μ¤ μλ¦¬μ— λλ‹¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤. λ”°λΌμ„ `BufferedReader -> String`κ³Ό `IOException`μ„ λμ§ μ μλ” μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤.<br>
```java
@FunctionalInterface
public interface BufferedReaderProcessor {
	String process(BufferedReader b) throws IOException;
}

// μ •μν• μΈν„°νμ΄μ¤λ¥Ό λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬ 
public String processFile(BufferedReaderProcessor p) throws IOException {
	...
}
```

#### 3. λ™μ‘ μ‹¤ν–‰
2λ‹¨κ³„λ¥Ό μ μ©ν•μ—¬ `processFile` λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ.
```java
public String processFile(BufferedReaderProcessor p) throws IOException {
	try(BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
		return p.process(br); // BufferedReader κ°μ²΄ μ²λ¦¬ (process νΈμ¶) 
	}
}
```

#### 4. λλ‹¤ μ „λ‹¬
μ΄μ  λλ‹¤λ¥Ό μ΄μ©ν•΄ λ‹¤μ–‘ν• λ™μ‘μ„ `processFile` λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ‹¤.
```java
// ν• ν–‰ μ²λ¦¬
String oneLine = processFile((BufferedReader br) -> br.readLine());
// λ‘ ν–‰ μ²λ¦¬ 
String twoLines = processFile((BufferedReader br) -> br.readLine() + br.readLine());
```

μ΄μ  λ‹¤μ–‘ν• λλ‹¤λ¥Ό μ „λ‹¬ν•λ” λ° μ¬ν™μ©ν•  μ μλ„λ΅ μλ°” 8μ— μ¶”κ°€λ μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό μ‚΄ν΄λ³΄μ.

## ν•¨μν• μΈν„°νμ΄μ¤ μ‚¬μ© 
μλ°” 8μ—μ„λ” κΈ°λ³Έμ μΈ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό `java.util.function` ν¨ν‚¤μ§€λ΅ μ κ³µν•κ³  μλ‹¤.<br>
λ€ν‘μ μΌλ΅ `Predicate`, `Consumer`, `Function` μΈν„°νμ΄μ¤λ¥Ό μ‚΄ν΄λ³΄μ. (+ [λΈ”λ΅κ·Έ μ •λ¦¬](https://velog.io/@ayoung0073/java-functional-interface))

### Predicate
`test`λΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ©° `test`λ” μ λ„¤λ¦­ ν•μ‹ Tμ κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ `boolean`μ„ λ°ν™ν•λ‹¤. <br>
T ν•μ‹μ κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” λ¶λ¦¬μ–Έ ν‘ν„μ‹μ΄ ν•„μ”ν• μƒν™©μ—μ„ `Predicate` μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
```java
@FunctionalInterface
public interface Predicate<T> {
    boolean test(T t);
}
public <T> List<T> filter(List<T> list, Predicate<T> p) {
	List<T> results = new ArrayList<>();
	for (T t: list) {
		if(p.test(t)) {
			results.add(t);
		}
	}
	return results;
}
Predicate<String> nonEmptyStringPredicate = (String s) -> !s.isEmpty();
List<String> nonEmpty = filter(listOfStrings, nonEmptyStringPredicate);
```

### Consumer
μ λ„¤λ¦­ ν•μ‹ T κ°μ²΄λ¥Ό λ°›μ•„μ„ `void`λ¥Ό λ°ν™ν•λ” `accept` μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ‹¤. <br>
μλ¥Ό λ“¤μ–΄, `Integer` λ¦¬μ¤νΈλ¥Ό μΈμλ΅ λ°›μ•„ κ° ν•­λ©μ— μ–΄λ–¤ λ™μ‘μ„ μν–‰ν•λ” `forEach` λ©”μ„λ“λ¥Ό μ •μν•  λ• `Consumer`λ¥Ό ν™μ©ν•  μ μλ‹¤.
<br>
λ‹¤μμ€ `forEach`μ™€ λλ‹¤λ¥Ό μ΄μ©ν•΄ λ¦¬μ¤νΈμ λ¨λ“  ν•­λ©μ„ μ¶λ ¥ν•λ” μμ λ‹¤.
```java
@FunctionalInterface
public interface Consumer<T> {
    void accept(T t);
}

public <T> void forEach(List<T> list, Consumer<T> c) {
	for (T t: list) {
		c.accept(t);
	}
}

forEach(
    Arrays.asList(1,2,3,4,5,),
    (Integer i) -> System.out.println(i)
);
```

### Function
μ λ„¤λ¦­ ν•μ‹ Tλ¥Ό μΈμλ΅ λ°›μ•„ μ λ„¤λ¦­ ν•μ‹ R κ°μ²΄λ¥Ό λ°ν™ν•λ” μ¶”μƒ λ©”μ„λ“ `apply`λ¥Ό μ •μν•λ‹¤.<br>
μ…λ ¥μ„ μ¶λ ¥μΌλ΅ λ§¤ν•‘ν•λ” λλ‹¤λ¥Ό μ •μν•  λ• ν™μ©ν•  μ μλ‹¤.
<br>
λ‹¤μμ€ String λ¦¬μ¤νΈλ¥Ό μΈμλ΅ λ°›μ•„ κ° Stringμ κΈΈμ΄λ¥Ό ν¬ν•¨ν•λ” Integer λ¦¬μ¤νΈλ΅ λ³€ν™ν•λ” μμ λ‹¤.
```java
@FunctionalInterface
public interface Function<T, R> {
    R apply(T t);
}

public <T, R> List<R> map(List<T> list, Function<T, R> f) {
	List<R> result = new ArrayList<>();
	for (T t: list) {
		result.add(f.apply(t));
	}
	return result;
}

List<Integer> l = map(
		Arrays.asList("lambdas", "in", "action"),
		(String s) -> s.length()
);
```
> μ΄μ™Έμ ν•¨μν• μΈν„°νμ΄μ¤λ“¤
> - Supplier<T>
> - UnaryOperator<T>
> - BinaryOperator<T>
> - BiPredicate<L, R>
> - BiConsumer<T, U>
> - BiFunction<T, U, R>

### μμ™Έλ¥Ό λμ§€λ” λλ‹¤ ν‘ν„μ‹ 
ν•¨μν• μΈν„°νμ΄μ¤λ” ν™•μΈλ μμ™Έλ¥Ό λμ§€λ” λ™μ‘μ„ ν—μ©ν•μ§€ μ•λ”λ‹¤. 
μ¦‰, μμ™Έλ¥Ό λμ§€λ” λλ‹¤ ν‘ν„μ‹μ„ λ§λ“¤λ ¤λ©΄ ν™•μΈλ μμ™Έλ¥Ό μ„ μ–Έν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ μ •μν•κ±°λ‚ λλ‹¤λ¥Ό `try/catch` λΈ”λ΅μΌλ΅ κ°μ‹Έμ•Ό ν•λ‹¤.
<br><br>
`IOException`λ¥Ό λ…μ‹μ μΌλ΅ μ„ μ–Έν•λ” ν•¨μν• μΈν„°νμ΄μ¤ `BufferedReaderProcessor`λ¥Ό λ³΄μ.
```java
@FunctionalInterface
public interface BufferedReaderProcessor {
	String process(BufferedReader b) throws IOException;
}
BufferdReaderProcessor p = (BufferedReader br) -> br.readLine();
```
ν•μ§€λ§ `Function<T, R>` ν•μ‹μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κΈ°λ€ν•λ” APIλ¥Ό μ‚¬μ©ν•κ³  μμΌλ―€λ΅, μ΄λ° μƒν™©μ—μ„λ” λ‹¤μ μ½”λ“μ²λΌ λ…μ‹μ μΌλ΅ ν™•μΈλ μμ™Έλ¥Ό μ΅μ„ μ μλ‹¤.
```java
Function<BufferedReader, String> f = (BufferedReader b) -> {
    try {
        return b.readLine();    
    }    
    catch(IOException e) {
        throw new RuntimeException(e);
    }
}
```

## ν•μ‹ κ²€μ‚¬, ν•μ‹ μ¶”λ΅ , μ μ•½
λλ‹¤ ν‘ν„μ‹ μμ²΄μ—λ” λλ‹¤κ°€ μ–΄λ–¤ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ”μ§€μ μ •λ³΄κ°€ ν¬ν•¨λμ–΄ μμ§€ μ•λ‹¤. λ”°λΌμ„ λλ‹¤ ν‘ν„μ‹μ„ λ” μ λ€λ΅ μ΄ν•΄ν•λ ¤λ©΄ λλ‹¤μ μ‹¤μ  ν•μ‹μ„ νμ•…ν•΄μ•Ό ν•λ‹¤.
### ν•μ‹ κ²€μ‚¬ 
λλ‹¤κ°€ μ‚¬μ©λλ” μ½ν…μ¤νΈλ¥Ό μ΄μ©ν•΄μ„ λλ‹¤μ ν•μ‹μ„ μ¶”λ΅ ν•  μ μλ‹¤. 
```java
List<Apple> heavierThan150g = 
        filter(inventory, (Apple apple) -> apple.getWeight() > 150);
```
μ•„λμ™€ κ°™μ€ μμΌλ΅ ν•μ‹ ν™•μΈ κ³Όμ •μ΄ μ΄λ£¨μ–΄μ§„λ‹¤.
1. λλ‹¤κ°€ μ‚¬μ©λ μ½ν…μ¤νΈμΈ `filter` λ©”μ„λ“λ¥Ό ν™•μΈν•λ‹¤.
2. `Predicate<Apple>`λ΅ λ€μƒ ν•μ‹μ„ ν™•μΈν•λ‹¤.
3. `Predicate<Apple>` μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“λ¥Ό ν™•μΈν•λ‹¤.
4. λλ‹¤μ λ””μ¤ν¬λ¦½ν„°μ™€ `Predicate<Apple>`μ μ¶”μƒ λ©”μ„λ“κ°€ λ™μΌν•μ§€ ν™•μΈν•λ‹¤.

### κ°™μ€ λλ‹¤, λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤  
λ€μƒ ν•μ‹μ΄λΌλ” νΉμ§• λ•λ¬Έμ— λλ‹¤ ν‘ν„μ‹μ΄λ”λΌλ„ νΈν™λλ” μ¶”μƒ λ©”μ„λ“λ¥Ό κ°€μ§„ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ΅ μ‚¬μ©λ  μ μλ‹¤. <br>
μ¦‰ ν•λ‚μ λλ‹¤λ” μ—¬λ¬ κ°μ ν•¨μν• μΈν„°νμ΄μ¤μ™€ νΈν™μ΄ κ°€λ¥ν•λ‹¤.
```java
Comparator<Apple> c1 = 
        (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
ToIntBiFunction<Apple, Apple> c2 = 
        (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
BiFunction<Apple, Apple, Integer> c3 = 
        (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```

### ν•μ‹ μ¶”λ΅  
μλ°” μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ μ½ν…μ¤νΈλ¥Ό μ΄μ©ν•΄ λλ‹¤ ν‘ν„μ‹κ³Ό κ΄€λ ¨λ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ¶”λ΅ ν•  μ μλ‹¤. <br>
λ€μƒ ν•μ‹μ„ μ΄μ©ν•΄ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό μ• μ μμΌλ―€λ΅ μ»΄νμΌλ¬λ” λλ‹¤μ μ‹κ·Έλ‹μ²λ„ μ¶”λ΅ ν•  μ μλ‹¤. <br>
μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ νλΌλ―Έν„° ν•μ‹μ— μ ‘κ·Όν•  μ μμΌλ―€λ΅ λλ‹¤ λ¬Έλ²•μ—μ„ μ΄λ¥Ό μƒλµν•  μ μλ‹¤. 
```java
Comparator<Apple> c1 = (a1, a2) -> a1.getWeight().compareTo(a2.getWeight());
```
μ»΄νμΌλ¬λ” νλΌλ―Έν„°μΈ Appleμ„ μ¶”λ΅ ν•κΈ° λ•λ¬Έμ— μ„μ™€ κ°™μ΄ μƒλµ κ°€λ¥ν•λ‹¤. 

### μ§€μ—­ λ³€μ μ‚¬μ© 
μ§€κΈκΉμ§€ μ‚΄ν΄λ³Έ λ¨λ“  λλ‹¤ ν‘ν„μ‹μ€ μΈμλ¥Ό μμ‹ μ λ°”λ”” μ•μ—μ„λ§ μ‚¬μ©ν–λ‹¤. <br>
ν•μ§€λ§ λλ‹¤ ν‘ν„μ‹μ—μ„λ” μµλ… ν•¨μκ°€ ν•λ” κ²ƒμ²λΌ **μμ  λ³€μ**(νλΌλ―Έν„°λ΅ λ„κ²¨μ§„ λ³€μκ°€ μ•„λ‹ μ™Έλ¶€μ—μ„ μ •μλ λ³€μ)λ¥Ό ν™μ©ν•  μ μλ‹¤.<br>
μ΄ λ™μ‘μ„ **λλ‹¤ μΊ΅μ²λ§**μ΄λΌκ³  λ¶€λ¥Έλ‹¤. <br> 
μμ  λ³€μμ—λ„ μ•½κ°„μ μ μ•½μ΄ μλ‹¤. λλ‹¤λ” μΈμ¤ν„΄μ¤ λ³€μμ™€ μ •μ  λ³€μλ¥Ό μμ λ΅­κ² μΊ΅μ³(μμ‹ μ λ°”λ””μ—μ„ μ°Έμ΅°ν•  μ μλ„λ΅) ν•  μ μλ‹¤.<br>
ν•μ§€λ§ κ·Έλ¬λ ¤λ©΄ μ§€μ—­ λ³€μλ” λ…μ‹μ μΌλ΅ finalλ΅ μ„ μ–Έλμ–΄ μμ–΄μ•Ό ν•κ±°λ‚ μ‹¤μ§μ μΌλ΅ finalλ΅ μ„ μ–Έλ λ³€μμ™€ λ‘κ°™μ΄ μ‚¬μ©λμ–΄μ•Ό ν•λ‹¤. <br>
μ¦‰, λλ‹¤ ν‘ν„μ‹μ€ ν• λ²λ§ ν• λ‹Ήν•  μ μλ” μ§€μ—­ λ³€μλ¥Ό μΊ΅μ³ν•  μ μλ‹¤.

μΈμ¤ν„΄μ λ³€μλ” ν™μ—, μ§€μ—­ λ³€μλ” μ¤νƒμ— μ €μ¥λκΈ° λ•λ¬Έμ΄λ‹¤.<br>
λλ‹¤κ°€ μ‹¤ν–‰λλ” μ¤λ λ“μ—μ„ μ§€μ—­ λ³€μλ¥Ό μ°Έμ΅°ν•  λ•λ” μ§€μ—­λ³€μμ λ³µμ‚¬λ³Έ(μ½κΈ° μ „μ©)μ„ μƒμ„±ν•κ³  μ°Έμ΅°ν•κ² λλ‹¤.<br>
ν•μ§€λ§ λλ‹¤κ°€ μ§μ ‘ μ§€μ—­λ³€μκ°€ μ„μΉν• μ¤νƒμμ—­μ— μ ‘κ·Όν•κ² λλ©΄ μ§€μ—­λ³€μλ¥Ό ν• λ‹Ήν• μ¤λ λ“κ°€ λλ‚λ©΄ λ³€μ ν• λ‹Ήμ΄ ν•΄μ λλ” μ‹μ κ³Ό κ²ΉμΉ  μ μλ‹¤.<br>
κ·Έλμ„ λλ‹¤λ” λ³µμ‚¬λ³Έ(μ½κΈ° μ „μ©)μ„ μ°Έμ΅°ν•κΈ° λ•λ¬Έμ— ν•΄λ‹Ή λ³€μμ κ°’μ€ λ³€κ²½λμ–΄μ„λ” μ•λλ” μ μ•½μ‚¬ν•­μ΄ μƒκΈ°κ² λλ‹¤. <br>

## λ©”μ„λ“ μ°Έμ΅°
λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ λ©”μ„λ“ μ •μλ¥Ό μ¬ν™μ©ν•΄μ„ λλ‹¤μ²λΌ μ „λ‹¬ν•  μ μλ‹¤. <br>
λλ‹¤ ν‘ν„μ‹λ³΄λ‹¤ λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ λ” κ°€λ…μ„±μ΄ μΆ‹μΌλ©° μμ—°μ¤λ¬μΈ μ μλ‹¤.
```java
// κΈ°μ΅΄ μ½”λ“
inventory.sort((Apple a1, Apple a2) ->
                a1.getWeight().compareTo(a2.getWeight()));

// java.util.Comparator.comparingμ„ ν™μ©ν• μ½”λ“
inventory.sort(comparing(Apple::getWeight)) 
```
`Apple::getWeight`λ” Apple ν΄λμ¤μ— μ •μλ `getWeight`μ λ©”μ„λ“ μ°Έμ΅°λ‹¤. μ¦‰, `(Apple a) -> a.getWeight()`μ„ μ¶•μ•½ν• κ²ƒμ΄λ‹¤. <br> 
μ‹¤μ λ΅ λ©”μ„λ“λ¥Ό μ°Έμ΅°ν•λ” κ²ƒμ΄ μ•„λ‹κΈ° λ•λ¬Έμ— κ΄„νΈλ” ν•„μ” μ—†λ‹¤.

> λλ‹¤μ™€ λ©”μ„λ“ μ°Έμ΅° λ‹¨μ¶• ν‘ν„ μμ 
> 
> |λλ‹¤|λ©”μ„λ“ μ°Έμ΅° λ‹¨μ¶• ν‘ν„|
> |---|---|
> |(Apple apple) -> apple.getWeight() | Apple::getWeight
> |() -> Thread.currentThread().dumpStack()| Thread.currentThread()::dumpStack|
> |(str, i) -> str.substring(i)|String::substring|
> |(String s) -> System.out.println(s) | System.out::println|
> |(String s) -> this.isValidName(s)| this::isValidName|


### λ©”μ„λ“ μ°Έμ΅°λ¥Ό λ§λ“λ” λ°©λ²•
1. μ •μ  λ©”μ„λ“ μ°Έμ΅° : `Integer::parseInt`
2. λ‹¤μ–‘ν• ν•μ‹μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° : `String::length`
3. κΈ°μ΅΄ κ°μ²΄μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° : `transaction::getValue` <br>
Transaction κ°μ²΄μ— getValue λ©”μ„λ“κ°€ μκ³ , μ΄ κ°μ²΄λ¥Ό ν• λ‹Ή λ°›μ€ transaction μ§€μ—­ λ³€μκ°€ μλ” κ²½μ° <br>
   
```
1. (args) -> ClassName.staticMethod(args) π‘‰ ClassName::staticMethod
2. (arg0, rest) -> arg0.instanceMethod(rest) π‘‰ ClassName::instanceMethod
3. (args) -> expr.instanceMethod(args) π‘‰ expr::instanceMethod
```

> #### ν€΄μ¦ 
> λλ‹¤ ν‘ν„μ‹κ³Ό μΌμΉν•λ” λ©”μ„λ“ μ°Έμ΅° κµ¬ν„ν•κΈ°
> 1. ToIntFunction<String> stringToInt = (String s) -> Integer.parseInt(s); <br>
> π‘‰ Integer::parseInt
> 2. BiPredicate<List<String>, String> contains = (list, element) -> list.contains(element); <br>
> π‘‰ List::contains
> 3. Predicate<String> startsWithNumber = (String string) -> this.startsWithNumber(string); <br>
> π‘‰ this::startsWithNumber

### μƒμ„±μ μ°Έμ΅°
ClassName::new μ²λΌ ν΄λμ¤λ…κ³Ό new ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄μ„ κΈ°μ΅΄ μƒμ„±μμ μ°Έμ΅°λ¥Ό λ§λ“¤ μ μλ‹¤.
```java
Supplier<Apple> c1 = Apple::new; // () -> new Apple(); μ™€ κ°™λ‹¤.
Apple a1 = c1.get();             // Supplierμ get λ©”μ„λ“λ¥Ό νΈμ¶ν•μ—¬ μƒλ΅μ΄ Apple κ°μ²΄λ¥Ό λ§λ“¤ μ μλ‹¤.
```

λ‹¤μ μ½”λ“λ” Integerλ¥Ό ν¬ν•¨ν•λ” λ¦¬μ¤νΈμ κ° μ”μ†λ¥Ό μ°λ¦¬κ°€ μ •μν–λ `map` κ°™μ€ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄μ„ Apple μƒμ„±μλ΅ μ „λ‹¬ν•λ‹¤. κ²°κ³Όμ μΌλ΅ λ‹¤μ–‘ν• λ¬΄κ²λ¥Ό ν¬ν•¨ν•λ” μ‚¬κ³Ό λ¦¬μ¤νΈκ°€ λ§λ“¤μ–΄μ§„λ‹¤.
```java
List<Integer> weights = Arrays.asList(7, 3, 4, 5);
List<Apple> apples = map(weights, Apple::new); // map λ©”μ„λ“λ΅ μƒμ„±μ μ°Έμ΅° μ „λ‹¬
public List<Apple> map(List<Integer> list, Function<Integer, Apple> f) {
    List<Apple> result = new ArrayList<>();
    for (Integer i: list) {
        result.add(f.apply(i));
    }
    return result;
}
```

## λλ‹¤, λ©”μ„λ“ μ°Έμ΅° ν™μ©ν•κΈ° 
μ§€κΈκΉμ§€ ν•™μµν• λ‚΄μ©μ„ μμ  μ½”λ“λ΅ μ μ©ν•΄λ³΄μ 
#### 1λ‹¨κ³„: μ½”λ“ μ „λ‹¬ 
`sort` λ©”μ„λ“λ” λ‹¤μκ³Ό κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ”λ‹¤.
```java
void sort(Comparator<? super E> c)
```
μ΄ μ½”λ“λ” `Comparator` κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ λ‘ μ‚¬κ³Όλ¥Ό λΉ„κµν•λ‹¤. κ°μ²΄ μ•μ— λ™μ‘μ„ ν¬ν•¨μ‹ν‚¤λ” λ°©μ‹μΌλ΅ λ‹¤μ–‘ν• μ „λµμ„ μ „λ‹¬ν•  μ μλ‹¤.
```java
public class AppleComparator implements Comparator<Apple> {
    public int compare(Apple a1, Apple a2) {
        return a1.getWeight().compareTo(a2.getWeight());
    }
}
inventory.sort(new AppleComparator());
```

#### 2λ‹¨κ³„: μµλ… ν΄λμ¤ μ‚¬μ©
ν• λ²λ§ μ‚¬μ©ν•  `Comparator`λ¥Ό μ„ μ½”λ“μ²λΌ κµ¬ν„ν•λ” κ²ƒλ³΄λ‹¨ **μµλ… ν΄λμ¤**λ¥Ό μ΄μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
```java
inventory.sort(new Comparator<Apple>() {
    public int compare(Apple a1, Apple a2) {
        return a1.getWeight().compareTo(a2.getWeight());
    }
});
```

#### 3λ‹¨κ³„: λλ‹¤ ν‘ν„μ‹ μ‚¬μ© 
λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•΄ λ” κ°„κ²°ν•κ² μ½”λ“λ¥Ό μ‘μ„±ν•  μ μλ‹¤.  <br><br>
(1)
```java
inventory.sort((Apple a1, Apple a2) ->
                a1.getWeight().compareTo(a2.getWeight())
);
```
(2) μλ°” μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ **μ½ν…μ¤νΈ**λ¥Ό ν™μ©ν•΄ **λλ‹¤μ νλΌλ―Έν„° ν•μ‹μ„ μ¶”λ΅ **ν•λ‹¤.
```java
inventory.sort((a1, a2) -> a1.getWeight().compareTo(a2.getWeight()));
```
(3) `comparing` λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ κ°€λ…μ„±μ„ λ” λ†’μΌ μ μλ‹¤.
```java
Comparator<Apple> c = Comparator.comparing((Apple a) -> a.getWeight());
inventory.sort(comparing(apple -> apple.getWeight()));
```

#### 4λ‹¨κ³„: λ©”μ„λ“ μ°Έμ΅° μ‚¬μ© 
```java
inventory.sort(comparing(Apple::getWeight))
```
"Appleμ„ weightλ³„λ΅ λΉ„κµν•΄μ„ inventoryλ¥Ό sortν•λΌ" 


## λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μλ” μ μ©ν• λ©”μ„λ“ 
ν•¨μν• μΈν„°νμ΄μ¤μ—μ„λ” λ‹¤μ–‘ν• μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό μ§€μ›ν•μ—¬ κ°„λ‹¨ν• μ—¬λ¬ κ°μ λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•΄μ„ λ³µμ΅ν• λλ‹¤ ν‘ν„μ‹μ„ λ§λ“¤ μ μλ‹¤.
<br>
μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ” **λ””ν΄νΈ λ©”μ„λ“**λ΅ μ κ³µλμ–΄ ν•¨μν• μΈν„°νμ΄μ¤μ μ •μλ¥Ό ν•΄μΉμ§€ μ•κ³  μ—¬λ¬ μ΅°ν•©μ„ κ°€λ¥μΌ€ ν•λ” μ ν‹Έλ¦¬ν‹°λ¥Ό μ κ³µν•λ‹¤.

#### Comparator
- comparing : λΉ„κµμ— μ‚¬μ©ν•  Function κΈ°λ°μ ν‚¤ μ§€μ •
- reversed : μ—­μ •λ ¬
- thenComparing : λ™μΌν• μ΅°κ±΄μ— λ€ν•΄ μ¶”κ°€μ μΈ λΉ„κµ

#### Predicate
- and, or, negate

#### Function
- andThen : μ΄ν›„μ— μ²λ¦¬ν•  function μ¶”κ°€
- compose : μ΄μ „μ— μ²λ¦¬λμ–΄μ•Ό ν•  function μ¶”κ°€ 

### ν•µμ‹¬ μ •λ¦¬
- λλ‹¤ ν‘ν„μ‹μ€ μµλ… ν•¨μμ μΌμΆ…μ΄λ‹¤. μ΄λ¦„μ€ μ—†μ§€λ§ νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹μ„ κ°€μ§€λ©° μμ™Έλ¥Ό λμ§ μ μλ‹¤.
- ν•¨μν• μΈν„°νμ΄μ¤λ” ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§μ„ μ •μν•λ” μΈν„°νμ΄μ¤μ΄λ‹¤.
- ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κΈ°λ€ν•λ” κ³³μ—μ„**λ§** λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μ μλ‹¤.
- λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•΄μ„ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ¦‰μ„μΌλ΅ μ κ³µν•  μ μκ³ , λλ‹¤ ν‘ν„μ‹ μ „μ²΄κ°€ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰λλ‹¤.
- μλ°” 8μ—μ„λ” μ λ„¤λ¦­ ν•¨μν• μΈν„°νμ¤ κ΄€λ ¨ λ°•μ‹± λ™μ‘μ„ ν”Όν•  μ μλ” `IntPredicate`, `IntToLongFunction` λ“±κ³Ό κ°™μ€ κΈ°λ³Έν• νΉν™” μΈν„°νμ΄μ¤λ¥΄ μ κ³µν•λ‹¤.
- μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄μ„ λλ‹¤μ™€ ν™μ©ν•λ©΄ μ μ—°μ„±κ³Ό μ¬μ‚¬μ©μ„±μ„ μ¶”κ°€λ΅ μ–»μ„ μ μλ‹¤.
- λλ‹¤ ν‘ν„μ‹μ **κΈ°λ€ ν•μ‹**μ„ **λ€μƒ ν•μ‹**μ΄λΌκ³  ν•λ‹¤.
- **λ©”μ„λ“ μ°Έμ΅°**λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ λ©”μ„λ“ κµ¬ν„μ„ μ¬μ‚¬μ©ν•κ³  μ§μ ‘ μ „λ‹¬ν•  μ μλ‹¤.


### μ¶”κ°€ μ •λ¦¬ : static method VS instance method
static methodλ” class methodλΌκ³ λ„ λ¶€λ¥Έλ‹¤. <br>
ν΄λμ¤ λ‚΄λ¶€μ— μ •μν•μ§€λ§, μΈμ¤ν„΄μ¤μ—λ” μ†ν•μ§€ μ•λ”λ‹¤.<br><br>
κ°€μ¥ ν° μ°¨μ΄μ  : **κ°μ²΄ μƒμ„± μ—¬λ¶€** <br>
- static λ©”μ„λ“λ” ν΄λμ¤ λ³€μμ™€ λ§μ°¬κ°€μ§€λ΅ _κ°μ²΄λ¥Ό μƒμ„±ν•μ§€ μ•κ³ _ `ClassName.MethodName`μΌλ΅ νΈμ¶ κ°€λ¥ν•λ‹¤.
- static λ©”μ„λ“λ” λ©”μ„λ“ λ‚΄μ—μ„ μΈμ¤ν„΄μ¤ λ³€μλ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.
- λ©”μ„λ“ λ‚΄μ—μ„ **μΈμ¤ν„΄μ¤ λ³€μ**λ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤λ©΄ staticμ„ λ¶™μ΄λ” κ² μΆ‹λ‹¤.
  - λ©”μ„λ“μ νΈμ¶ μ‹κ°„μ΄ μ§§μ•„μ Έ μ„±λ¥μ΄ ν–¥μƒλλ‹¤. (νΈμ¶λμ–΄μ•Ό ν•  λ©”μ„λ“λ¥Ό μ°Ύλ” κ³Όμ •μ΄ μ¶”κ°€μ μΌλ΅ ν•„μ”ν•μ§€ μ•λ‹¤.)
- λ¨λ“  μΈμ¤ν„΄μ¤μ—μ„ κ³µν†µμ μΈ κ°’μ„ κ°€μ Έμ•Όν•λ” κ²½μ°, static λ³€μλ¥Ό μ„ μ–Έν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
- staticμ΄ λ¶™μ€ λ©”μ„λ“λ” **ν΄λμ¤κ°€ λ©”λ¨λ¦¬μ— μ¬λΌκ° λ• μλ™μΌλ΅ μƒμ„±**λκΈ° λ•λ¬Έμ— μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•μ§€ μ•μ•„λ„ λλ‹¤.
- static λ©”μ„λ“λ” μΈμ¤ν„΄μ¤ λ³€μλ¥Ό μ‚¬μ©ν•  μ μ—†λ‹¤.
  - static λ©”μ„λ“κ°€ νΈμ¶λμ—μ„ λ•, μΈμ¤ν„΄μ¤κ°€ μ΅΄μ¬ν•μ§€ μ•μ„ μ μκΈ° λ•λ¬Έμ΄λ‹¤.
- instance λ©”μ„λ“λ” static λ©”μ„λ“μ™€ λ‹¬λ¦¬ **λ°λ“μ‹ κ°μ²΄λ¥Ό μƒμ„±ν• ν›„ νΈμ¶ κ°€λ¥**ν•λ‹¤. μ¦‰ μΈμ¤ν„΄μ¤κ°€ λ°λ“μ‹ μ΅΄μ¬ν•΄μ•Ό ν•λ‹¤.


